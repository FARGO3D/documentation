
<!DOCTYPE html>


<html lang="en" data-content_root="./" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Tips, Tricks, Todos and Troubleshooting &#8212; FARGO3D User Guide</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  <!--
    this give us a css class that will be invisible only if js is disabled
  -->
  <noscript>
    <style>
      .pst-js-only { display: none !important; }

    </style>
  </noscript>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="_static/styles/theme.css?digest=8878045cc6db502f8baf" rel="stylesheet" />
<link href="_static/styles/pydata-sphinx-theme.css?digest=8878045cc6db502f8baf" rel="stylesheet" />

    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=a746c00c" />
    <link rel="stylesheet" type="text/css" href="_static/styles/sphinx-book-theme.css?v=a3416100" />
  
  <!-- So that users can add custom icons -->
  <script src="_static/scripts/fontawesome.js?digest=8878045cc6db502f8baf"></script>
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="_static/scripts/bootstrap.js?digest=8878045cc6db502f8baf" />
<link rel="preload" as="script" href="_static/scripts/pydata-sphinx-theme.js?digest=8878045cc6db502f8baf" />

    <script src="_static/documentation_options.js?v=9eb32ce0"></script>
    <script src="_static/doctools.js?v=9bcbadda"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/scripts/sphinx-book-theme.js?v=887ef09a"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'ttt';</script>
    <link rel="search" title="Search" href="search.html" />
    <link rel="prev" title="Developing a complex setup" href="complex_setup.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  <meta name="docsearch:version" content="" />
    <meta name="docbuild:last-update" content="Dec 20, 2024"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <dialog id="pst-search-dialog">
    
<form class="bd-search d-flex align-items-center"
      action="search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         placeholder="Search..."
         aria-label="Search..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form>
  </dialog>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <dialog id="pst-primary-sidebar-modal"></dialog>
      <div id="pst-primary-sidebar" class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  
    
  

<a class="navbar-brand logo" href="index.html">
  
  
  
  
  
  
    <p class="title logo__title">FARGO3D User Guide</p>
  
</a></div>
        <div class="sidebar-primary-item">

<button class="btn search-button-field search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
 <i class="fa-solid fa-magnifying-glass"></i>
 <span class="search-button__default-text">Search</span>
 <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
</button></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        <ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="download.html">Download</a></li>
<li class="toctree-l1"><a class="reference internal" href="contributing.html">Contributing to the code</a></li>
<li class="toctree-l1"><a class="reference internal" href="contributors.html">Developers</a></li>
<li class="toctree-l1"><a class="reference internal" href="license.html">Citing FARGO3D</a></li>

<li class="toctree-l1"><a class="reference internal" href="intro.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="first_steps.html">First Steps</a></li>
<li class="toctree-l1"><a class="reference internal" href="dir_tree.html">Directory tree</a></li>
<li class="toctree-l1"><a class="reference internal" href="make_proc.html">Make Process</a></li>
<li class="toctree-l1"><a class="reference internal" href="boundaries.html">Boundaries</a></li>
<li class="toctree-l1"><a class="reference internal" href="mesh_fields.html">Mesh and Fields</a></li>
<li class="toctree-l1"><a class="reference internal" href="def_setups.html">Default SETUPS</a></li>
<li class="toctree-l1"><a class="reference internal" href="opt_file.html">.opt files</a></li>
<li class="toctree-l1"><a class="reference internal" href="non_uniform_meshes.html">Non-uniform meshes</a></li>
<li class="toctree-l1"><a class="reference internal" href="nbody.html">N-Body solver</a></li>
<li class="toctree-l1"><a class="reference internal" href="units.html">Units</a></li>
<li class="toctree-l1"><a class="reference internal" href="multifluid.html">Multifluid</a></li>
<li class="toctree-l1"><a class="reference internal" href="induction_equation.html">Induction equation</a></li>
<li class="toctree-l1"><a class="reference internal" href="new_setup.html">Defining a new SETUP</a></li>

<li class="toctree-l1"><a class="reference internal" href="outputs.html">Outputs</a></li>
<li class="toctree-l1"><a class="reference internal" href="communications.html">Communications</a></li>
<li class="toctree-l1"><a class="reference internal" href="c2cuda.html">Cuda translator (C2CUDA.py)</a></li>
<li class="toctree-l1"><a class="reference internal" href="exec_flags.html">Execution flags</a></li>
<li class="toctree-l1"><a class="reference internal" href="vtk_comp.html">VTK Compatibility</a></li>
<li class="toctree-l1"><a class="reference internal" href="cuda_perf.html">Improving CUDA Performance</a></li>
<li class="toctree-l1"><a class="reference internal" href="benchmark.html">GPU vs CPU Benchmarking</a></li>
<li class="toctree-l1"><a class="reference internal" href="complex_setup.html">Developing a complex setup</a></li>
<li class="toctree-l1 current active"><a class="current reference internal" href="#">Tips, Tricks, Todos and Troubleshooting</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
      <div class="sidebar-primary-item">
<div id="ethical-ad-placement"
      class="flat"
      data-ea-publisher="readthedocs"
      data-ea-type="readthedocs-sidebar"
      data-ea-manual="true">
</div></div>
  </div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><button class="sidebar-toggle primary-toggle btn btn-sm" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</button></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="_sources/ttt.rst" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.rst</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button pst-js-only" aria-label="Color mode" data-bs-title="Color mode"  data-bs-placement="bottom" data-bs-toggle="tooltip">
  <i class="theme-switch fa-solid fa-sun                fa-lg" data-mode="light" title="Light"></i>
  <i class="theme-switch fa-solid fa-moon               fa-lg" data-mode="dark"  title="Dark"></i>
  <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"  title="System Settings"></i>
</button>


<button class="btn btn-sm pst-navbar-icon search-button search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
</button>
<button class="sidebar-toggle secondary-toggle btn btn-sm" title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</button>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Tips, Tricks, Todos and Troubleshooting</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#how-do-i-add-a-new-parameter-to-a-setup">How do I add a new parameter to a setup ?</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#how-do-i-create-a-new-field-variable">How do I create a new <code class="docutils literal notranslate"><span class="pre">Field</span></code> variable?</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#how-do-i-write-a-field">How do I write a <code class="docutils literal notranslate"><span class="pre">Field</span></code>?</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#what-is-the-way-to-merge-the-outputs-of-a-run-spawned-with-the-k-flag">What is the way to merge the outputs of a run spawned with the <code class="docutils literal notranslate"><span class="pre">-k</span></code> flag ?</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#i-see-lots-of-or-instead-of-at-execution-what-does-that-mean">I see lots of “!” or “:” instead of “.” at execution. What does that mean?</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#where-my-last-run-data-has-been-output">Where my last run data has been output ?</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#my-build-produces-unexpected-results-some-files-should-have-been-remade-and-they-have-not-how-do-i-fix-this">My build produces unexpected results. Some files should have been remade and they have not. How do I fix this ?</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#my-code-does-not-run-much-faster-on-the-gpu-than-on-the-cpu-why-is-this">My code does not run much faster on the GPU than on the CPU. Why is this ?</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#what-is-this-sign-at-the-beginning-of-the-outputs-path">What is this @ sign at the beginning of the outputs’ path ?</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#i-see-that-there-are-par-files-in-each-setup-directory-and-the-same-par-files-are-found-in-the-in-sub-directory-what-is-this-for">I see that there are .par files in each setup directory, and the same .par files are found in the in/ sub directory. What is this for ?</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#i-have-noticed-a-directory-named-fargo3drc-in-my-home-directory-what-is-it-here-for">I have noticed a directory named <code class="docutils literal notranslate"><span class="pre">.fargo3drc</span></code> in my home directory. What is it here for ?</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#how-can-i-see-the-output-of-python-scripts-in-particular-the-cuda-files">How can I see the output of python scripts (in particular the CUDA files) ?</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#tweaking-the-cuda-executable-for-memory-optimization">Tweaking the CUDA executable for memory optimization</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#speeding-up-reduction-operations-on-platform-3-5">Speeding up reduction operations on platform &gt;= 3.5</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#a-very-incomplete-todo-list">A very incomplete TODO list</a></li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section id="tips-tricks-todos-and-troubleshooting">
<span id="ttt"></span><h1>Tips, Tricks, Todos and Troubleshooting<a class="headerlink" href="#tips-tricks-todos-and-troubleshooting" title="Link to this heading">#</a></h1>
<p>With no particular order, we draw hereafter a list of questions that
may come to the user’s mind.  This list will be updated according to
the users’ feedback.</p>
<section id="how-do-i-add-a-new-parameter-to-a-setup">
<h2>How do I add a new parameter to a setup ?<a class="headerlink" href="#how-do-i-add-a-new-parameter-to-a-setup" title="Link to this heading">#</a></h2>
<p>Imagine you want to add a real variable <code class="docutils literal notranslate"><span class="pre">RHOR</span></code> (density on the right
side) to the set up <code class="docutils literal notranslate"><span class="pre">sod1d</span></code> (thus far the right value of the density
in the Riemann problem is hard-coded in <code class="docutils literal notranslate"><span class="pre">condinit.c</span></code>). Just add a
line such as the following in <code class="docutils literal notranslate"><span class="pre">setups/sod1d/sod1d.par</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">RhoR</span>            <span class="mf">0.1</span>
</pre></div>
</div>
<p>and this is all. A python script which parses this file makes sure
that you have access to a global real variable named <code class="docutils literal notranslate"><span class="pre">RHOR</span></code>
throughout all the functions of the C code. You can now use this
variable to replace the hard-coded value in
<code class="docutils literal notranslate"><span class="pre">setups/sod1d/condinit.c</span></code>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The variable name in the .par file is case insensitive, but
C is case sensitive. The name is converted to upper case for the C
code.  You must help the parser to automagically guess the type of
the variable. Here “0.1” works, but “.1” would not.</p>
</div>
</section>
<section id="how-do-i-create-a-new-field-variable">
<h2>How do I create a new <code class="docutils literal notranslate"><span class="pre">Field</span></code> variable?<a class="headerlink" href="#how-do-i-create-a-new-field-variable" title="Link to this heading">#</a></h2>
<ol class="arabic">
<li><p>Create a pointer in <code class="docutils literal notranslate"><span class="pre">src/global.h</span></code>.</p>
<p>Example: <code class="docutils literal notranslate"><span class="pre">Field</span> <span class="pre">*Myfield;</span></code></p>
</li>
<li><p>Allocate memory with the function <code class="docutils literal notranslate"><span class="pre">CreateField()</span></code>. To do that, in <code class="docutils literal notranslate"><span class="pre">src/LowTasks.c</span></code>, inside the function <code class="docutils literal notranslate"><span class="pre">CreateFields()</span></code>, add:</p>
<p><code class="docutils literal notranslate"><span class="pre">Myfield</span> <span class="pre">=</span> <span class="pre">CreateField(&quot;myfield&quot;,0,0,0,0);</span></code></p>
</li>
</ol>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>When using the new field inside a function/kernel, do not forget the corresponding <code class="docutils literal notranslate"><span class="pre">INPUT/OUTPUT</span></code> statements.</p>
</div>
</section>
<section id="how-do-i-write-a-field">
<h2>How do I write a <code class="docutils literal notranslate"><span class="pre">Field</span></code>?<a class="headerlink" href="#how-do-i-write-a-field" title="Link to this heading">#</a></h2>
<p>To write the Field <code class="docutils literal notranslate"><span class="pre">myField</span></code> in the disk, add</p>
<blockquote>
<div><p><code class="docutils literal notranslate"><span class="pre">__WriteField(Myfield,</span> <span class="pre">TimeStep);</span></code></p>
<p>in <code class="docutils literal notranslate"><span class="pre">src/output.c</span></code>, inside the function <code class="docutils literal notranslate"><span class="pre">WriteOutputs()</span></code>.</p>
</div></blockquote>
</section>
<section id="what-is-the-way-to-merge-the-outputs-of-a-run-spawned-with-the-k-flag">
<h2>What is the way to merge the outputs of a run spawned with the <code class="docutils literal notranslate"><span class="pre">-k</span></code> flag ?<a class="headerlink" href="#what-is-the-way-to-merge-the-outputs-of-a-run-spawned-with-the-k-flag" title="Link to this heading">#</a></h2>
<p>Spawning a run with the <code class="docutils literal notranslate"><span class="pre">-k</span></code> flag keeps one output file per
processor (for a given variable) instead of merging these files to
produce a unique, larger file.</p>
<p>Assume you run ran on 8 processors, and you want to merge the output
#5. You may issue on the command line, in FARGO3D’s main directory:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">mpirun</span> <span class="o">-</span><span class="n">np</span> <span class="mi">8</span> <span class="o">./</span><span class="n">fargo3d</span> <span class="o">-</span><span class="n">s</span> <span class="mi">5</span> <span class="o">-</span><span class="mi">0</span> <span class="n">yourparfile</span>
</pre></div>
</div>
<p>It will do the trick (restart from fragmented output -lower <code class="docutils literal notranslate"><span class="pre">s</span></code>-,
then merge outputs, and exit). Edit the above line according to your
needs, or insert it into a bash loop to merge the outputs of an entire
directory.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This technique is non-destructive, in the sense that it does neither
change nor remove the individual outputs.</p>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>The above instruction requires that the whole simulation may fit on
your platform’s memory. If you issue it on a small laptop for a
simulation that ran on a large cluster, it may fail if there is not
enough RAM.</p>
</div>
</section>
<section id="i-see-lots-of-or-instead-of-at-execution-what-does-that-mean">
<h2>I see lots of “!” or “:” instead of “.” at execution. What does that mean?<a class="headerlink" href="#i-see-lots-of-or-instead-of-at-execution-what-does-that-mean" title="Link to this heading">#</a></h2>
<p>This happens when you have a GPU built, and GPU-GPU communications are
not fully optimized. See the section <a class="reference internal" href="communications.html#gpucomm"><span class="std std-ref">GPU/CPU communications</span></a> and
<a class="reference internal" href="communications.html#mpicuda"><span class="std std-ref">CUDA aware MPI implementations</span></a>. Note that periodic boundary conditions are handled
like normal MPI communications, even on a one process run, so that
they transit through the host (CPU) if no CUDA aware version of MPI is
used.</p>
</section>
<section id="where-my-last-run-data-has-been-output">
<h2>Where my last run data has been output ?<a class="headerlink" href="#where-my-last-run-data-has-been-output" title="Link to this heading">#</a></h2>
<p>The path to this directory is given by the parameter ‘OUTPUTDIR’ in
the parameter file that you specified in your run. If this parameter
begins with a ‘&#64;’, this character should be substituted with the
content of the <code class="docutils literal notranslate"><span class="pre">FARGO_OUT</span></code> environment variable, if it exists.  You
can also go to your home directory. There, a directory name
<code class="docutils literal notranslate"><span class="pre">.fargo3drc</span></code> has been produced, which contains two files:
<code class="docutils literal notranslate"><span class="pre">history</span></code> and <code class="docutils literal notranslate"><span class="pre">lastout</span></code>. The latter contains for each run issued a
timestamp and the path to the output directory. The former contains a
timestamp, the command that was issued to run the code, the number of
processes, the list of hosts (and devices for GPU builts) on which the
code was run, and the output directory. The <code class="docutils literal notranslate"><span class="pre">lastout</span></code> file is
obsolete.  You may define an alias in your <code class="docutils literal notranslate"><span class="pre">.bashrc</span></code> file that
brings you automatically to the last output directory:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">alias</span> <span class="n">fo</span><span class="o">=</span><span class="s1">&#39;cd `tail -n 1 $HOME/.fargo3drc/history`&#39;</span>
</pre></div>
</div>
</section>
<section id="my-build-produces-unexpected-results-some-files-should-have-been-remade-and-they-have-not-how-do-i-fix-this">
<h2>My build produces unexpected results. Some files should have been remade and they have not. How do I fix this ?<a class="headerlink" href="#my-build-produces-unexpected-results-some-files-should-have-been-remade-and-they-have-not-how-do-i-fix-this" title="Link to this heading">#</a></h2>
<p>Although we have dedicated some care to the chain of rules of the
relatively complex build process, we may have failed to respect some
dependencies. If you believe that your make process is flawed, the
simplest solution is to note your build options with <code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">info</span></code>,
then issue a <code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">mrproper</span></code> and finally rebuild by issuing a new
<code class="docutils literal notranslate"><span class="pre">make</span></code> command followed by all your build options.</p>
</section>
<section id="my-code-does-not-run-much-faster-on-the-gpu-than-on-the-cpu-why-is-this">
<h2>My code does not run much faster on the GPU than on the CPU. Why is this ?<a class="headerlink" href="#my-code-does-not-run-much-faster-on-the-gpu-than-on-the-cpu-why-is-this" title="Link to this heading">#</a></h2>
<p>There are several reasons for this.</p>
<ul class="simple">
<li><p>Your setup is very small, and your GPU(s) is/are underused.</p></li>
<li><p>You have default block sizes in your <code class="docutils literal notranslate"><span class="pre">.opt</span></code> file that are far from
optimal, yielding a degradation of performance.</p></li>
<li><p>You have a high end CPU and a low end GPU…</p></li>
<li><p>You may not have tuned sufficiently the GPU build options in
<code class="docutils literal notranslate"><span class="pre">src/makefile</span></code>. Make sure to set them to your target GPU
architecture.</p></li>
<li><p>You have a 2D, YZ setup (see the note below about reductions).</p></li>
</ul>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Reductions are operations on a whole mesh that amount to
obtaining a single number as a function of all cells’ content
(hence the name “reduction”). It may be the sum of the mass or
momentum content of all cells, or the minimum of all time steps
allowed on all cells as a result of the CFL criterion: the
reduction operation can be a sum, a <code class="docutils literal notranslate"><span class="pre">min()</span></code>, etc. We see that
there is at least one unavoidable reduction operation per time
step: the search for the maximum time step allowed. Reduction
operations are performed in a two stage process:</p>
<blockquote>
<div><ul class="simple">
<li><p>A reduction in the X direction, at the end of which we obtain
a 2D array in YZ. This reduction is performed on board the
GPU, using the algorithm described in this <a class="reference external" href="http://developer.download.nvidia.com/assets/cuda/files/reduction.pdf">pdf document</a>. This
corresponds to one of the few kernels that are written
explicitly in FARGO3D (instead of being produced by the Python
script). The user should never have to interfere with it.</p></li>
<li><p>A further reduction in the Y an Z dimensions of the previous 2D
array. This is done on the host, as this has a low computational
cost. This operation involves a Device-&gt;Host communication only,
of a one cell thick single 2D array, which is not taken into
account when evaluating 2D communications that yield the “:”
diagnostic on the terminal (see <a class="reference internal" href="communications.html#mpicuda"><span class="std std-ref">CUDA aware MPI implementations</span></a>).</p></li>
</ul>
</div></blockquote>
</div>
<p>The two stage process detailed above is generally not a problem, as we
expect most setups to have a number of zones in X (or azimuth) much
larger than the GPU vs CPU speed up factor (hence it is the first
stage -reduction on board of the GPU- that constitutes the time
consuming part). If however you have a YZ setup, the number of zones
in X is just one, and in this case it is the second stage of the
reduction process (on board the CPU) that constitutes the bottleneck:
it is like if the reduction was entirely performed on the CPU. If you
want to assess how much of your setup’s slowness can be put on the
account of this restriction, you may try to hard-code the time step in
<code class="docutils literal notranslate"><span class="pre">src/algogas.c</span></code> to see if this yields significant improvement. Also,
during this test, you have to deactivate all monitoring in the
<code class="docutils literal notranslate"><span class="pre">.opt</span></code> file, as monitoring requires reductions which are performed
as described above.</p>
</section>
<section id="what-is-this-sign-at-the-beginning-of-the-outputs-path">
<h2>What is this &#64; sign at the beginning of the outputs’ path ?<a class="headerlink" href="#what-is-this-sign-at-the-beginning-of-the-outputs-path" title="Link to this heading">#</a></h2>
<p>Unless you have defined the environment variable <code class="docutils literal notranslate"><span class="pre">FARGO_OUT</span></code>, this
“&#64;” sign is not used, and you may remove it if you wish. When the
<code class="docutils literal notranslate"><span class="pre">FARGO_OUT</span></code> environment variable is defined (for instance in your
job script or in your .bashrc file), its value substitutes the “&#64;”
sign in your output path. If, for instance, you have:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">OutputDir</span>   <span class="nd">@mri</span><span class="o">/</span><span class="n">beta150</span>
</pre></div>
</div>
<p>in your .par file, and you have defined in your <code class="docutils literal notranslate"><span class="pre">.bashrc</span></code> file the
following:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">export</span> <span class="n">FARGO_OUT</span><span class="o">=</span><span class="s1">&#39;/data/myname/fargo3d&#39;</span>
</pre></div>
</div>
<p>then your run will output its data in
<code class="docutils literal notranslate"><span class="pre">/data/myname/fargo3d/mri/beta150</span></code>.</p>
<p>This trick is version control friendly: you define once for ever the
sub directory where you want your data to be, and the prefix part is
specified in the environment variable out of the version control, so
that if different persons work on the parameter file, it will not
trigger a sequence of different versions.  You may have on one
platform:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">export</span> <span class="n">FARGO_OUT</span><span class="o">=</span><span class="s1">&#39;/data2/pablo/fargo3d&#39;</span>
</pre></div>
</div>
<p>and on another one:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">export</span> <span class="n">FARGO_OUT</span><span class="o">=</span><span class="s1">&#39;/scratch3/frederic/fargo3d&#39;</span>
</pre></div>
</div>
<p>and the same parameter file may be used without any editing.</p>
</section>
<section id="i-see-that-there-are-par-files-in-each-setup-directory-and-the-same-par-files-are-found-in-the-in-sub-directory-what-is-this-for">
<h2>I see that there are .par files in each setup directory, and the same .par files are found in the in/ sub directory. What is this for ?<a class="headerlink" href="#i-see-that-there-are-par-files-in-each-setup-directory-and-the-same-par-files-are-found-in-the-in-sub-directory-what-is-this-for" title="Link to this heading">#</a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">.par</span></code> files found in the setup directories are necessary to
build FARGO3D: a python script uses them to determine the set of
global upper case variables that will be available everywhere
throughout the C code, with the value that the user defines for them
in his <code class="docutils literal notranslate"><span class="pre">.par</span></code> file. Therefore, these “setup” or “master”<code class="docutils literal notranslate"><span class="pre">.par</span></code>
files must include all variables that can ever be used by the setup,
and they must specify default, fiducial values for all parameters.</p>
<p>Although the user may run the code by using these  “master” parameter
files, e.g.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">./</span><span class="n">fargo3d</span> <span class="n">setups</span><span class="o">/</span><span class="n">fargo</span><span class="o">/</span><span class="n">fargo</span><span class="o">.</span><span class="n">par</span>
</pre></div>
</div>
<p>this is not customary and any other parameter file, with different
parameter values than those specified in the “master” parfile, may be
used:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">./</span><span class="n">fargo3d</span> <span class="ow">in</span><span class="o">/</span><span class="n">fargo</span><span class="o">.</span><span class="n">par</span>
</pre></div>
</div>
<p>You may have a large set of parameters files with different values,
and you can run the code on them without any rebuild.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If a parameter is not defined in a parameter file, the code will
take its default value from the “master” parameter file, unless
this parameter is specified as <em>mandatory</em>, in which case the user
<em>must</em> specify its value in any parameter file (otherwise an error
message is issued and the code stops.)</p>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>It is recommended to edit the parameter files of the <code class="docutils literal notranslate"><span class="pre">in/</span></code>
directory, rather than interfering with the “master” parameter
files found in the setups directories.</p>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="new_setup.html#parfile"><span class="std std-ref">Defining the parameter file</span></a>.</p>
</div>
</section>
<section id="i-have-noticed-a-directory-named-fargo3drc-in-my-home-directory-what-is-it-here-for">
<h2>I have noticed a directory named <code class="docutils literal notranslate"><span class="pre">.fargo3drc</span></code> in my home directory. What is it here for ?<a class="headerlink" href="#i-have-noticed-a-directory-named-fargo3drc-in-my-home-directory-what-is-it-here-for" title="Link to this heading">#</a></h2>
<p>This directory contains two text files (<code class="docutils literal notranslate"><span class="pre">history</span></code> and <code class="docutils literal notranslate"><span class="pre">lastout</span></code>)
which are updated at each new run.  Every time a new run is spawned,
two lines are appended to the <code class="docutils literal notranslate"><span class="pre">history</span></code> file: a line indicating the
date and time at which the run was launched, and the command line
issued to launch the run. In addition, two new lines are appended to
the <code class="docutils literal notranslate"><span class="pre">lastout</span></code> file: a time stamp as previously, and the absolute
path of the output directory.  It can be useful to parse the last line
of this file with a script to go directly where the output is
written:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">alias</span> <span class="n">fo</span><span class="o">=</span><span class="s1">&#39;cd `tail -n 1 $HOME/.fargo3drc/lastout`&#39;</span>
</pre></div>
</div>
<p>The above line, in the <code class="docutils literal notranslate"><span class="pre">.bashrc</span></code> file, will define a command <code class="docutils literal notranslate"><span class="pre">fo</span></code>
(like Fargo3d Output) which changes the directory to the output
directory of the last run.</p>
<p><strong>Known issue</strong>:</p>
<p>When the <code class="docutils literal notranslate"><span class="pre">-o</span></code> flag is used on the command line, the subsequent
quotation marks are not written to the file <code class="docutils literal notranslate"><span class="pre">history</span></code>. If one
wishes to cut and paste some line of this file to repeat a given run,
one must ensure to manually edit the line to restore the quotation
marks, when the flag <code class="docutils literal notranslate"><span class="pre">-o</span></code> is used.</p>
</section>
<section id="how-can-i-see-the-output-of-python-scripts-in-particular-the-cuda-files">
<h2>How can I see the output of python scripts (in particular the CUDA files) ?<a class="headerlink" href="#how-can-i-see-the-output-of-python-scripts-in-particular-the-cuda-files" title="Link to this heading">#</a></h2>
<p>You will find below information to retrieve manually the output of
each of the python scripts involved at build stage. However, starting
from version 1.3, the build process creates an <code class="docutils literal notranslate"><span class="pre">arch/</span></code> subdirectory
in which all the source files are archived, even those created
automatically such as those created by the boundary conditions scripts
or the <code class="docutils literal notranslate"><span class="pre">c2cuda</span></code> converter.  It is therefore much easier than in
earlier versions to have a glance at the intermediate source files
automatically created at build time.</p>
<p>You may have noticed a long list of files being removed at the end of
the build process, especially on GPU builds. These files are
intermediate files such as CUDA files automatically produced by the
<em>c2cuda</em> script, etc. and the make process must remove them upon
completion in order to preserve dependencies. Failing to do so would
result, for instance, in the GPU version of a routine not being
rebuilt if its C source was edited. We do not issue explicitly this
<code class="docutils literal notranslate"><span class="pre">rm</span></code> command in the makefile. This is done automatically, out of our
control, because make knows that it must preserve dependencies.</p>
<p>This may be frustrating as you cannot have a look at the CUDA files or
boundary source codes produced by the Python scripts. This, sometimes,
can be useful to understand unexpected behaviors. Here we indicate the
manual procedure to produce all the intermediary files used during the
build process. Do not forget to remove them prior to a full build of
the code, or dependencies may be broken !</p>
<p><strong>Creation of var.c</strong>:</p>
<p>In <code class="docutils literal notranslate"><span class="pre">src/</span></code>, issue:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">python</span> <span class="o">../</span><span class="n">scripts</span><span class="o">/</span><span class="n">par</span><span class="o">.</span><span class="n">py</span> <span class="o">../</span><span class="n">setups</span><span class="o">/</span><span class="n">mri</span><span class="o">/</span><span class="n">mri</span><span class="o">.</span><span class="n">par</span> <span class="o">../</span><span class="n">std</span><span class="o">/</span><span class="n">stdpar</span><span class="o">.</span><span class="n">par</span>
</pre></div>
</div>
<p>Naturally substitute the mri setup in the above line with your own setup.</p>
<p><strong>Creation of param.h, param_noex.h, global_ex.h:</strong></p>
<p>In <code class="docutils literal notranslate"><span class="pre">src/</span></code>, issue:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">python</span> <span class="o">../</span><span class="n">scripts</span><span class="o">/</span><span class="n">varparser</span><span class="o">.</span><span class="n">py</span>
</pre></div>
</div>
<p><strong>Creation of rescale.c:</strong></p>
<p>In <code class="docutils literal notranslate"><span class="pre">src/</span></code>, issue:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">python</span> <span class="o">../</span><span class="n">scripts</span><span class="o">/</span><span class="n">unitparser</span><span class="o">.</span><span class="n">py</span> <span class="n">mri</span>
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">rescale.c</span></code> file is produced in the <code class="docutils literal notranslate"><span class="pre">src</span></code> directory</p>
<p><strong>Creation of boundary source code:</strong></p>
<p>In <code class="docutils literal notranslate"><span class="pre">src/</span></code>, issue:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">python</span> <span class="o">../</span><span class="n">scripts</span><span class="o">/</span><span class="n">boundparser</span><span class="o">.</span><span class="n">py</span> <span class="o">../</span><span class="n">std</span><span class="o">/</span><span class="n">boundaries</span><span class="o">.</span><span class="n">txt</span>  <span class="o">../</span><span class="n">std</span><span class="o">/</span><span class="n">centering</span><span class="o">.</span><span class="n">txt</span> <span class="o">../</span><span class="n">setups</span><span class="o">/</span><span class="n">mri</span><span class="o">/</span><span class="n">mri</span><span class="o">.</span><span class="n">bound</span>
</pre></div>
</div>
<p>If you issue the command <code class="docutils literal notranslate"><span class="pre">ls</span> <span class="pre">-ltr</span></code> you will see new files with name
<em>[y/z][min/max]_bound.c</em> that you can examine. Note that since
periodic boundary conditions are not dealt with as other BCs but
rather with communications, they do not generate such files. For
instance, with the <code class="docutils literal notranslate"><span class="pre">mri</span></code> setup, you only have the <em>y</em> files, not the
<em>z</em> files.</p>
<p><strong>Creation of the CUDA source code:</strong></p>
<p>It can be done for any of the files which has same radix than those of
the list <em>GPU_OBJBLOCKS</em> in the makefile. We take the example here of
the file <code class="docutils literal notranslate"><span class="pre">compute_emf.c</span></code>. In the <code class="docutils literal notranslate"><span class="pre">src/</span></code> directory, issue:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">python</span> <span class="o">../</span><span class="n">scripts</span><span class="o">/</span><span class="n">c2cuda</span><span class="o">.</span><span class="n">py</span> <span class="o">-</span><span class="n">i</span> <span class="n">compute_emf</span><span class="o">.</span><span class="n">c</span> <span class="o">-</span><span class="n">o</span> <span class="n">foo</span><span class="o">.</span><span class="n">cu</span>
</pre></div>
</div>
<p>In this command line, <em>-i</em> stands for the input, and <em>-o</em> for the
output.  Note that we do not follow here the automatic rule that would
create <code class="docutils literal notranslate"><span class="pre">../bin/compute_emf_gpu.o</span></code>. As a result, there is no risk to
break dependencies if we forget to remove the file created manually.
You can examine the file <code class="docutils literal notranslate"><span class="pre">foo.cu</span></code> and compare it to the input C
file. You may also try to invoke it with the <code class="docutils literal notranslate"><span class="pre">-p</span></code> flag that
implements a loop in the wrapper function to determine the best block
size.</p>
</section>
<section id="tweaking-the-cuda-executable-for-memory-optimization">
<h2>Tweaking the CUDA executable for memory optimization<a class="headerlink" href="#tweaking-the-cuda-executable-for-memory-optimization" title="Link to this heading">#</a></h2>
<p>The default behavior of memory allocation on the GPU is to pad arrays
in order to respect the alignment of all rows. This may consume an
extra amount of memory, which is very parameter dependent. If you wish
to allocate memory like on the host, without padding, you may use the
compilation flag NOPITCH (e.g. in the opt file, add the following
line: <code class="docutils literal notranslate"><span class="pre">FARGO_OPT</span> <span class="pre">+=</span> <span class="pre">-DNOPITCH'</span></code>, and rebuild). The performance
degradation is negligible and you may be able to use slightly larger
arrays on a given GPU.</p>
</section>
<section id="speeding-up-reduction-operations-on-platform-3-5">
<h2>Speeding up reduction operations on platform &gt;= 3.5<a class="headerlink" href="#speeding-up-reduction-operations-on-platform-3-5" title="Link to this heading">#</a></h2>
<p>Reductions are by default implemented as described on a famous
presentation by Mark Harris (NVIDIA), which works for all platforms,
even old ones. On &gt;= 3.5 platforms, one may use the possibility of
warp shuffle, which can significantly speed up reductions. In order to
do that, you must use the compilation flag WARPSHUFFLE (e.g. in the
opt file, add the following line: <code class="docutils literal notranslate"><span class="pre">FARGO_OPT</span> <span class="pre">+=</span> <span class="pre">-DWARPSHUFFLE'</span></code>, and
rebuild). The new kernel thus called reduces the amount of shared
memory used by the GPU. As described for standard reductions, the
reduction thus executed is done along the X direction only, and the
subsequent reduction in Y and Z is performed on the CPU.</p>
</section>
<section id="a-very-incomplete-todo-list">
<h2>A very incomplete TODO list<a class="headerlink" href="#a-very-incomplete-todo-list" title="Link to this heading">#</a></h2>
<p>We have several projects or improvements in mind for FARGO3D. Some of
them are cosmetic time savers, others are more substantial. Among them:</p>
<ul class="simple">
<li><p>Since we can parse the C code to produce CUDA code, we can also, in
principle, produce automatically OpenCL code. This would enable
FARGO3D to run on non-NVIDIA’s GPUs, and on multi-core platforms.</p></li>
<li><p>We would like to merge FARGO3D and the nested mesh structure of the
code JUPITER (developed by one of us but never publicly
released). This would require to have normal ghost zones in the X
direction (as for Y and Z), a 3D mesh splitting of processing
elements, and an adaptation of the ghost filling procedure. In this
<a class="reference external" href="http://adsabs.harvard.edu/abs/2014ApJ...782...65S">page</a> you can
see JUPITER at work with a number of nested meshes onto a giant
planet.</p></li>
</ul>
</section>
</section>


                </article>
              

              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="complex_setup.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Developing a complex setup</p>
      </div>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <dialog id="pst-secondary-sidebar-modal"></dialog>
                <div id="pst-secondary-sidebar" class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#how-do-i-add-a-new-parameter-to-a-setup">How do I add a new parameter to a setup ?</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#how-do-i-create-a-new-field-variable">How do I create a new <code class="docutils literal notranslate"><span class="pre">Field</span></code> variable?</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#how-do-i-write-a-field">How do I write a <code class="docutils literal notranslate"><span class="pre">Field</span></code>?</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#what-is-the-way-to-merge-the-outputs-of-a-run-spawned-with-the-k-flag">What is the way to merge the outputs of a run spawned with the <code class="docutils literal notranslate"><span class="pre">-k</span></code> flag ?</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#i-see-lots-of-or-instead-of-at-execution-what-does-that-mean">I see lots of “!” or “:” instead of “.” at execution. What does that mean?</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#where-my-last-run-data-has-been-output">Where my last run data has been output ?</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#my-build-produces-unexpected-results-some-files-should-have-been-remade-and-they-have-not-how-do-i-fix-this">My build produces unexpected results. Some files should have been remade and they have not. How do I fix this ?</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#my-code-does-not-run-much-faster-on-the-gpu-than-on-the-cpu-why-is-this">My code does not run much faster on the GPU than on the CPU. Why is this ?</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#what-is-this-sign-at-the-beginning-of-the-outputs-path">What is this @ sign at the beginning of the outputs’ path ?</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#i-see-that-there-are-par-files-in-each-setup-directory-and-the-same-par-files-are-found-in-the-in-sub-directory-what-is-this-for">I see that there are .par files in each setup directory, and the same .par files are found in the in/ sub directory. What is this for ?</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#i-have-noticed-a-directory-named-fargo3drc-in-my-home-directory-what-is-it-here-for">I have noticed a directory named <code class="docutils literal notranslate"><span class="pre">.fargo3drc</span></code> in my home directory. What is it here for ?</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#how-can-i-see-the-output-of-python-scripts-in-particular-the-cuda-files">How can I see the output of python scripts (in particular the CUDA files) ?</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#tweaking-the-cuda-executable-for-memory-optimization">Tweaking the CUDA executable for memory optimization</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#speeding-up-reduction-operations-on-platform-3-5">Speeding up reduction operations on platform &gt;= 3.5</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#a-very-incomplete-todo-list">A very incomplete TODO list</a></li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Author name not set
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      © Copyright 2014-2023, Pablo Benítez Llambay, Frédéric Masset &amp; Contributors.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    <p class="last-updated">
  Last updated on Dec 20, 2024.
  <br/>
</p>
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script defer src="_static/scripts/bootstrap.js?digest=8878045cc6db502f8baf"></script>
<script defer src="_static/scripts/pydata-sphinx-theme.js?digest=8878045cc6db502f8baf"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>